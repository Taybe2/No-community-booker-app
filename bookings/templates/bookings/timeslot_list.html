{% extends "base.html" %}

{% block title %}Available Time Slots{% endblock %}

{% block content %}
<h2>Available Time Slots from {{ week_start|date:"l, F d, Y" }} to {{ week_end|date:"l, F d, Y" }}</h2>

<!-- Navigation Buttons -->
<div class="navigation">
    <a href="?week_offset={{ week_offset|add:'-1' }}" class="btn btn-primary">Previous Week</a>
    <a href="?week_offset={{ week_offset|add:'1' }}" class="btn btn-primary">Next Week</a>
</div>

<!-- Display Each Day and Its Slots -->
{% for day, slots in slots_by_day.items %}
    <h3 {% if day < today %}style="color: grey;"{% endif %}>
        {{ day|date:"l, F d, Y" }}
        {% if day == today %}<strong>(Today)</strong>{% endif %}
    </h3>
    
    {% if slots %}
        <ul>
            {% for slot in slots %}
                <li>
                    <strong>{{ slot.start_time }} - {{ slot.end_time }}</strong>
                    {% if slot.is_available %}
                        <span style="color: green;">(Available)</span>
                    {% else %}
                        <span style="color: red;">(Booked)</span>
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No time slots available for this day.</p>
    {% endif %}
{% endfor %}
{% endblock %}
